<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Profile - University of Wolverhampton</title>
    <link rel="stylesheet" href="profile-style.css">
    <link rel="stylesheet" href="navigation.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <div class="page-container">
        <div class="edit-profile-section">
            <h2 class="edit-title">Customise Profile Icon</h2>
            <p class="edit-subtitle">Choose a color for your profile icon</p>
    
            <!-- Profile Icon Preview -->
            <div class="profile-preview">
                <div class="profile-image" id="profileImagePreview">
                    <i class="fas fa-user"></i>
                </div>
            </div>
    
            <!-- Color Options -->
            <div class="theme-options">
                <div class="color-picker">
                    <div class="color-option">
                        <input type="radio" id="color1" name="color" value="#24C5F4">
                        <label for="color1" style="background: linear-gradient(135deg, #24C5F4, #1E9CD7);">
                            <i class="fas fa-check"></i>
                        </label>
                        <span class="color-label">Ocean Blue</span>
                    </div>
    
                    <div class="color-option">
                        <input type="radio" id="color2" name="color" value="#FF69B4">
                        <label for="color2" style="background: linear-gradient(135deg, #FF69B4, #FF4081);">
                            <i class="fas fa-check"></i>
                        </label>
                        <span class="color-label">Rose Pink</span>
                    </div>

                    <div class="color-option">
                        <input type="radio" id="color3" name="color" value="#FFD700">
                        <label for="color3" style="background: linear-gradient(135deg, #FFD700, #FFA500);">
                            <i class="fas fa-check"></i>
                        </label>
                        <span class="color-label">Sunshine</span>
                    </div>

                    <div class="color-option">
                        <input type="radio" id="color4" name="color" value="#A2D460">
                        <label for="color4" style="background: linear-gradient(135deg, #A2D460, #7CB342);">
                            <i class="fas fa-check"></i>
                        </label>
                        <span class="color-label">Spring Green</span>
                    </div>
                </div>
            </div>

            <!-- Back Button -->
            <a href="7profile.html" class="back-button">
                <i class="fas fa-arrow-left"></i>
                Back to Profile
            </a>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span>Color updated!</span>
    </div>

    <nav class="bottom-nav">
        <a href="4homepage.html" class="nav-item active">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <a href="5explore.html" class="nav-item">
            <i class="fas fa-search"></i>
            <span>Explore</span>
        </a>
        <a href="6saved.html" class="nav-item">
            <i class="fas fa-bookmark"></i>
            <span>Saved</span>
        </a>
        <a href="7profile.html" class="nav-item">
            <i class="fas fa-user"></i>
            <span>Profile</span>
        </a>
    </nav>

    <script>
        // Consolidated window.onload function
        window.onload = function() {
            // Apply saved profile icon color if it exists
            const savedColor = localStorage.getItem('profileIconColor');
            if (savedColor) {
                updatePreview(savedColor);
                const radio = document.querySelector(`input[value="${savedColor}"]`);
                if (radio) radio.checked = true;
            }

            document.querySelectorAll('input[type="radio"]').forEach(input => {
                input.addEventListener('change', function() {
                    updatePreview(this.value);
                    // Auto-save when color is selected
                    localStorage.setItem('profileIconColor', this.value);
                    
                    // Show notification
                    const notification = document.getElementById('notification');
                    notification.classList.add('show');
                    
                    setTimeout(() => {
                        notification.classList.remove('show');
                    }, 2000);
                });
            });
        };

        function updatePreview(color) {
            const preview = document.getElementById('profileImagePreview');
            if (preview) {
                switch(color) {
                    case '#24C5F4':
                        preview.style.background = 'linear-gradient(135deg, #24C5F4, #1E9CD7)';
                        break;
                    case '#FF69B4':
                        preview.style.background = 'linear-gradient(135deg, #FF69B4, #FF4081)';
                        break;
                    case '#FFD700':
                        preview.style.background = 'linear-gradient(135deg, #FFD700, #FFA500)';
                        break;
                    case '#A2D460':
                        preview.style.background = 'linear-gradient(135deg, #A2D460, #7CB342)';
                        break;
                    default:
                        preview.style.background = 'linear-gradient(135deg, #24C5F4, #1E9CD7)';
                }
            }
        }
    </script>
</body>
</html>
